<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script>
            var requset1 = null;
            var requset2 = null;
            var requset3 = null;
            var message = null;

            function handleRequest1() {
                if (requset1.readyState === 4)
                {
                    var textf = document.getElementById("stext");
                    textf.value = requset1.responseText;

                }


            }
            function handleRequest2() {
                if (requset2.readyState === 4)
                {
                    var span1 = document.getElementById("span1");
                    span1.innerHTML = requset2.responseText;

                }


            }
            function handleRequest3() {
                if (requset3.readyState === 4)
                {
                    var span2 = document.getElementById("span2");
                    span2.innerHTML = requset3.responseText;

                }


            }

            function firstAjax() {
                if (window.XMLHttpRequest) {
                    requset1 = new XMLHttpRequest();
                    requset1.onreadystatechange = handleRequest1;
                    requset1.open('Get', 'http://localhost:8084/Ajax/file1.txt', true);
                    requset1.send(null);

                }
            }
            function secondAjax() {
                if (window.XMLHttpRequest) {
                    requset2 = new XMLHttpRequest();
                    requset2.onreadystatechange = handleRequest2;
                    var name=document.getElementById("username").value;
                    requset2.open('Get', 'http://localhost:8084/Ajax/MyServlet?username='+name, true);
                    requset2.send(null);

                }

            }
            function thirdAjax() {
                if (window.XMLHttpRequest) {
                    requset3 = new XMLHttpRequest();
                    requset3.onreadystatechange = handleRequest3;
                    requset3.open('Get', 'http://localhost:8084/Ajax/html.txt?id='+new Date(), true);
                    requset3.send(null);

                }

            }
        </script>
    </head>

    <body onload="setInterval('thirdAjax()',5000)">
        <input type="button" value="submit"  onclick="firstAjax()" />
        <input type="text" name="stext" id="stext"  /><br/><br/>
        <form name="form1">
            Name:<input type="text" name="username" id="username" onblur="secondAjax()" /><span id="span1"></span><br/>
            Password:<input type="text" name="password" value="" /><br/>
            <input type="submit" value="submit" name="submitB" /><br/>
            
        </form>
        <span id="span2"></span>
    </body>
</html>
